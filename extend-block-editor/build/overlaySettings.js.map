{"version":3,"file":"overlaySettings.js","mappings":";;;;;;;;;;;AAAA;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;ACA6E;AAC/B;AAC/B,SAASI,aAAaA,CAAC;EACpCC,KAAK;EACLC,WAAW;EACXC;AACF,CAAC,EAAE;EACF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGN,4DAAQ,CAAC,IAAI,CAAC;EAC7C,MAAM,CAACO,eAAe,EAAEC,kBAAkB,CAAC,GAAGR,4DAAQ,CAAC,KAAK,CAAC;EAE7D,OACES,iEAAA,CAAAC,wDAAA,QACED,iEAAA;IACFE,GAAG,EAAEL,WAAY;IACbM,OAAO,EAAEA,CAAA,KAAMJ,kBAAkB,CAAEK,CAAC,IAAK,CAACA,CAAC,CAAE;IAC7CC,KAAK,EAAE;MACVC,SAAS,EAAC,EAAE;MACZC,SAAS,EAAC,MAAM;MACXC,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,QAAQ;MACpBC,UAAU,EAAE,MAAM;MAClBC,UAAU,EAAE,aAAa;MACzBC,MAAM,EAAE,gBAAgB;MACxBC,GAAG,EAAE,OAAO;MACZC,OAAO,EAAE,QAAQ;MACjBC,YAAY,EAAE,QAAQ;MACtBC,KAAK,EAAE,MAAM;MACbvB,KAAK,EAAE;IACT;EAAE,GAENO,iEAAA;IAAMK,KAAK,EAAE;MAACW,KAAK,EAAC,aAAa;MAAEC,WAAW,EAAC;IAAC;EAAE,GAC9CjB,iEAAA,CAACZ,iEAAc;IAAC8B,UAAU,EAAEzB;EAAM,CAAE,CAClC,CAAC,EACHO,iEAAA,eAAOL,KAAY,CACb,CAAC,EACRG,eAAe,IAClBE,iEAAA,CAACV,0DAAO;IACP6B,MAAM,EAAEvB,QAAS;IACjBwB,cAAc,EAAEA,CAAA,KAAIrB,kBAAkB,CAAC,KAAK,CAAE;IAC9CsB,SAAS,EAAC,YAAY;IACtBC,MAAM,EAAE,EAAG;IACXC,MAAM,EAAE,IAAK;IACbC,KAAK,EAAE,IAAK;IACZC,OAAO,EAAEA,CAAA,KAAI1B,kBAAkB,CAAC,KAAK,CAAE;IACvC2B,OAAO,EAAE,KAAM;IACfC,WAAW,EAAG,WAAUhC,KAAM;EAAU,GAEzCK,iEAAA;IAAKK,KAAK,EAAE;MAACS,OAAO,EAAC;IAAS;EAAE,GAC5Bd,iEAAA,CAACX,8DAAW;IACVI,KAAK,EAAEA,KAAM;IACbmC,QAAQ,EAAGC,QAAQ,IAAK;MACtBnC,WAAW,CAACmC,QAAQ,CAAC;IACvB;EAAE,CACH,CACA,CACI,CAEP,CAAC;AAEP;;;;;;;;;;;;;;;;;;;;;;AC3D4D;AACyB;AACxC;AACc;AACI;AACN;AACd;AAE3C,SAASU,eAAeA,CAAC;EAAEC,IAAI;EAAEC;AAAQ,CAAC,EAAE;EAC1C,MAAM;IAAEC,2BAA2B,EAAEC;EAAS,CAAC,GAAGH,IAAI;EAEtD,MAAMI,WAAW,GAAGb,+DAAW,CAC7B,CAACc,GAAG,EAAEC,KAAK,KAAK;IACdL,OAAO,CACL;MACE,GAAGE,QAAQ;MACX,CAACE,GAAG,GAAGC;IACT,CAAC,EACD,6BACF,CAAC;EACH,CAAC,EACD,CAACH,QAAQ,CACX,CAAC;EAEDb,6DAAS,CAAC,MAAM;IACdQ,wDAAa,CAACK,QAAQ,CAAC;EACzB,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC;EAEd,OACE3C,iEAAA,CAACqC,yEAA0B;IACzBU,SAAS,EAAC,6BAA6B;IACvCC,KAAK,EAAC,kBAAkB;IACxBC,IAAI,EAAC,kBAAkB;IACvBC,MAAM,EAAE;EAAK,GAEZP,QAAQ,IACP3C,iEAAA,cACGmD,MAAM,CAACC,OAAO,CAACT,QAAQ,CAAC,CAACU,GAAG,CAAC,CAAC,CAACR,GAAG,EAAEC,KAAK,CAAC,KAAK;IAC9C,IAAID,GAAG,KAAK,SAAS,EAAE,OAAO,IAAI;IAClC,IAAIA,GAAG,CAACS,QAAQ,CAAC,OAAO,CAAC,EAAE;MACzB,OACEtD,iEAAA,CAACR,kEAAa;QACZC,KAAK,EAAEqD,KAAM;QACbpD,WAAW,EAAGmC,QAAQ,IAAKe,WAAW,CAACC,GAAG,EAAEhB,QAAQ,CAAE;QACtDlC,KAAK,EAAEkD;MAAI,CACZ,CAAC;IAEN;IACA,OACE7C,iEAAA,cACEA,iEAAA,CAACiC,8EAAa;MACZa,KAAK,EAAEA,KAAK,CAACS,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAE;MAC5B3B,QAAQ,EAAG4B,QAAQ,IAAKZ,WAAW,CAACC,GAAG,EAAEW,QAAQ,CAACC,QAAQ,CAAC,CAAC,GAAG,IAAI,CAAE;MACrE9D,KAAK,EAAEkD;IAAI,CACZ,CACE,CAAC;EAEV,CAAC,CACE,CAEmB,CAAC;AAEjC;AACA,iEAAeX,2DAAO,CACpBC,2DAAU,CAAEuB,MAAM,IAAK;EACrB,MAAMC,QAAQ,GAAGD,MAAM,CAAC,aAAa,CAAC,CAACE,sBAAsB,CAAC,MAAM,CAAC;EACrE,MAAMC,WAAW,GAAGH,MAAM,CAAC,aAAa,CAAC,CAACI,uBAAuB,CAAC,MAAM,CAAC;EACzE,OAAO;IACLtB,IAAI,EAAE;MAAE,GAAGqB,WAAW;MAAE,GAAGF;IAAS;EACtC,CAAC;AACH,CAAC,CAAC,EACFvB,6DAAY,CAAE2B,QAAQ,KAAM;EAC1BtB,OAAO,EAAEA,CAACK,KAAK,EAAEkB,KAAK,KACpBD,QAAQ,CAAC,aAAa,CAAC,CAACE,QAAQ,CAAC;IAAEzB,IAAI,EAAE;MAAE,CAACwB,KAAK,GAAGlB;IAAM;EAAE,CAAC;AACjE,CAAC,CAAC,CACJ,CAAC,CAACP,eAAe,CAAC;;;;;;;;;;;;;;AC3EX,SAASD,aAAaA,CAACK,QAAQ,EAAE;EACtC,MAAMuB,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,kCAAkC,CAAC;EACzE,IAAI,CAACF,MAAM,EAAE;EACdA,MAAM,CAAC7D,KAAK,CAACgE,WAAW,CAAE,+BAA8B,EAAE1B,QAAQ,CAAC2B,QAAS,CAAC;EAC7EJ,MAAM,CAAC7D,KAAK,CAACgE,WAAW,CAAE,+BAA8B,EAAE1B,QAAQ,CAAC4B,QAAQ,CAAC;AAC7E;;;;;;UCLA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACNkD;AACC;AAC7B;AAEtBC,kEAAc,CAAC,6BAA6B,EAAE;EAACC,MAAM,EAAClC,2DAAeA;AAAA,CAAC,CAAC,C","sources":["webpack://membergate/./extend-block-editor/src/overlaySettings/editor.css?b960","webpack://membergate/external window [\"wp\",\"components\"]","webpack://membergate/external window [\"wp\",\"compose\"]","webpack://membergate/external window [\"wp\",\"data\"]","webpack://membergate/external window [\"wp\",\"editor\"]","webpack://membergate/external window [\"wp\",\"element\"]","webpack://membergate/external window [\"wp\",\"plugins\"]","webpack://membergate/./extend-block-editor/src/components/ColorPicker.js","webpack://membergate/./extend-block-editor/src/overlaySettings/OverlaySettings.js","webpack://membergate/./extend-block-editor/src/overlaySettings/utils.js","webpack://membergate/webpack/bootstrap","webpack://membergate/webpack/runtime/define property getters","webpack://membergate/webpack/runtime/hasOwnProperty shorthand","webpack://membergate/webpack/runtime/make namespace object","webpack://membergate/./extend-block-editor/src/overlaySettings/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"editor\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"plugins\"];","import { ColorIndicator, ColorPicker, Popover } from \"@wordpress/components\";\nimport { useState } from \"@wordpress/element\";\nexport default function MyColorPicker({\n  color,\n  updateColor,\n  label,\n}) {\n\tconst [anchorEl, setAnchorEl] = useState(null);\n  const [isShowingPicker, setIsShowingPicker] = useState(false);\n\n  return (\n    <>\n      <button\n\t\t\t\tref={setAnchorEl}\n        onClick={() => setIsShowingPicker((s) => !s)}\n        style={{\n\t\t\t\t\tminHeight:40,\n\t\t\t\t\ttextAlign:\"left\",\n          display: \"flex\",\n          alignItems: \"center\",\n          appearance: \"none\",\n          background: \"transparent\",\n          border: \"1px solid #ccc\",\n          gap: \".5rem\",\n          padding: \".25rem\",\n          borderRadius: \".25rem\",\n          width: \"100%\",\n          color: \"#363F53\",\n        }}\n      >\n\t\t\t\t<span style={{width:\"max-content\", aspectRatio:1}}>\n        <ColorIndicator colorValue={color} />\n\t\t\t\t</span>\n        <span>{label}</span>\n      </button>\n      {isShowingPicker && (\n\t\t\t\t<Popover\n\t\t\t\t\tanchor={anchorEl}\n\t\t\t\t\tonFocusOutside={()=>setIsShowingPicker(false)}\n\t\t\t\t\tplacement=\"left-start\"\n\t\t\t\t\toffset={10}\n\t\t\t\t\tresize={true}\n\t\t\t\t\tshift={true}\n\t\t\t\t\tonClose={()=>setIsShowingPicker(false)}\n\t\t\t\t\tnoArrow={false}\n\t\t\t\t\theaderTitle={`Setting ${label}'s Color`}\n\t\t\t\t>\n\t\t\t\t<div style={{padding:\".25rem\",}}>\n        <ColorPicker\n          color={color}\n          onChange={(newColor) => {\n            updateColor(newColor);\n          }}\n        />\n\t\t\t\t</div>\n\t\t\t\t</Popover>\n      )}\n    </>\n  );\n}\n","import { useEffect, useCallback } from \"@wordpress/element\";\nimport { __experimentalNumberControl as NumberControl } from \"@wordpress/components\";\nimport { compose } from \"@wordpress/compose\";\nimport { withSelect, withDispatch } from \"@wordpress/data\";\nimport { PluginDocumentSettingPanel } from \"@wordpress/editor\";\nimport MyColorPicker from \"../components/ColorPicker.js\";\nimport { updateCSSVars } from \"./utils.js\";\n\nfunction OverlaySettings({ meta, setMeta }) {\n  const { membergate_overlay_settings: settings } = meta;\n\n  const setSettings = useCallback(\n    (key, value) => {\n      setMeta(\n        {\n          ...settings,\n          [key]: value,\n        },\n        \"membergate_overlay_settings\",\n      );\n    },\n    [settings],\n  );\n\n  useEffect(() => {\n    updateCSSVars(settings);\n  }, [settings]);\n\n  return (\n    <PluginDocumentSettingPanel\n      className=\"membergate-overlay-settings\"\n      title=\"Overlay Settings\"\n      name=\"overlay-settings\"\n      isOpen={true}\n    >\n      {settings && (\n        <div>\n          {Object.entries(settings).map(([key, value]) => {\n            if (key === \"padding\") return null;\n            if (key.includes(\"Color\")) {\n              return (\n                <MyColorPicker\n                  color={value}\n                  updateColor={(newColor) => setSettings(key, newColor)}\n                  label={key}\n                />\n              );\n            }\n            return (\n              <div>\n                <NumberControl\n                  value={value.split(\"px\")[0]}\n                  onChange={(newValue) => setSettings(key, newValue.toString() + \"px\")}\n                  label={key}\n                />\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </PluginDocumentSettingPanel>\n  );\n}\nexport default compose(\n  withSelect((select) => {\n    const postMeta = select(\"core/editor\").getEditedPostAttribute(\"meta\");\n    const oldPostMeta = select(\"core/editor\").getCurrentPostAttribute(\"meta\");\n    return {\n      meta: { ...oldPostMeta, ...postMeta },\n    };\n  }),\n  withDispatch((dispatch) => ({\n    setMeta: (value, field) =>\n      dispatch(\"core/editor\").editPost({ meta: { [field]: value } }),\n  })),\n)(OverlaySettings);\n","export function updateCSSVars(settings) {\n  const blocks = document.querySelector(\".block-editor-block-list__layout\");\n  if (!blocks) return;\n\tblocks.style.setProperty(`--membergate-overlay-maxWidth`, settings.maxWidth );\n\tblocks.style.setProperty(`--membergate-overlay-position`, settings.position);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {registerPlugin} from '@wordpress/plugins';\nimport OverlaySettings from './OverlaySettings.js';\nimport \"./editor.css\";\n\nregisterPlugin(\"membergate-overlay-settings\", {render:OverlaySettings});\n"],"names":["ColorIndicator","ColorPicker","Popover","useState","MyColorPicker","color","updateColor","label","anchorEl","setAnchorEl","isShowingPicker","setIsShowingPicker","createElement","Fragment","ref","onClick","s","style","minHeight","textAlign","display","alignItems","appearance","background","border","gap","padding","borderRadius","width","aspectRatio","colorValue","anchor","onFocusOutside","placement","offset","resize","shift","onClose","noArrow","headerTitle","onChange","newColor","useEffect","useCallback","__experimentalNumberControl","NumberControl","compose","withSelect","withDispatch","PluginDocumentSettingPanel","updateCSSVars","OverlaySettings","meta","setMeta","membergate_overlay_settings","settings","setSettings","key","value","className","title","name","isOpen","Object","entries","map","includes","split","newValue","toString","select","postMeta","getEditedPostAttribute","oldPostMeta","getCurrentPostAttribute","dispatch","field","editPost","blocks","document","querySelector","setProperty","maxWidth","position","registerPlugin","render"],"sourceRoot":""}