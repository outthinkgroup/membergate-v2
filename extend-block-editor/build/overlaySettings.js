(()=>{"use strict";const e=window.wp.plugins,t=window.wp.element,n=window.wp.components,o=window.wp.compose,r=window.wp.data,l=window.wp.editor;function a({color:e,updateColor:o,label:r}){const[l,a]=(0,t.useState)(null),[i,s]=(0,t.useState)(!1);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("button",{ref:a,onClick:()=>s((e=>!e)),style:{minHeight:40,textAlign:"left",display:"flex",alignItems:"center",appearance:"none",background:"transparent",border:"1px solid #ccc",gap:".5rem",padding:".25rem",borderRadius:".25rem",width:"100%",color:"#363F53"}},(0,t.createElement)("span",{style:{width:"max-content",aspectRatio:1}},(0,t.createElement)(n.ColorIndicator,{colorValue:e})),(0,t.createElement)("span",null,r)),i&&(0,t.createElement)(n.Popover,{anchor:l,onFocusOutside:()=>s(!1),placement:"left-start",offset:10,resize:!0,shift:!0,onClose:()=>s(!1),noArrow:!1,headerTitle:`Setting ${r}'s Color`},(0,t.createElement)("div",{style:{padding:".25rem"}},(0,t.createElement)(n.ColorPicker,{color:e,onChange:e=>{o(e)}}))))}const i=(0,o.compose)((0,r.withSelect)((e=>{const t=e("core/editor").getEditedPostAttribute("meta");return{meta:{...e("core/editor").getCurrentPostAttribute("meta"),...t}}})),(0,r.withDispatch)((e=>({setMeta:(t,n)=>e("core/editor").editPost({meta:{[n]:t}})}))))((function({meta:e,setMeta:o}){const{membergate_overlay_settings:r}=e,i=(0,t.useCallback)(((e,t)=>{o({...r,[e]:t},"membergate_overlay_settings")}),[r]);return(0,t.useEffect)((()=>{!function(e){const t=document.querySelector(".block-editor-block-list__layout");t&&(t.style.setProperty("--membergate-overlay-maxWidth",e.maxWidth),t.style.setProperty("--membergate-overlay-position",e.position))}(r)}),[r]),(0,t.createElement)(l.PluginDocumentSettingPanel,{className:"membergate-overlay-settings",title:"Overlay Settings",name:"overlay-settings",isOpen:!0},r&&(0,t.createElement)("div",null,Object.entries(r).map((([e,o])=>"padding"===e?null:e.includes("Color")?(0,t.createElement)(a,{color:o,updateColor:t=>i(e,t),label:e}):(0,t.createElement)("div",null,(0,t.createElement)(n.__experimentalNumberControl,{value:o.split("px")[0],onChange:t=>i(e,t.toString()+"px"),label:e}))))))}));(0,e.registerPlugin)("membergate-overlay-settings",{render:i})})();